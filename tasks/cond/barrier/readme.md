# Циклический барьер

*Барьер* – примитив синхронизации для набора потоков, который представляет собой виртуальную границу в коде, пересечь которую потоки могут только вместе.

Будем считать, что с барьером работает фиксированный набор потоков.

Барьер реализует единственный метод: `void ArriveAndWait()`

Когда поток хочет пройти через барьер, он вызывает этот метод и блокируется до тех пор, пока к барьеру не подойдут все остальные потоки, т.е. до тех пор, пока все они не вызовут `ArriveAndWait()`.

Поток, последним вызвавший `ArriveAndWait()`, разблокирует все ожидающие потоки, после чего барьер считается пройденным.

Барьер называется *циклическим*, если после разблокировки потоки могут проходить через него повторно.

## Задание

Реализуйте циклический барьер с помощью условных переменных.

Шаблон решения находится в файле [`cyclic_barrier.hpp`](cyclic_barrier.hpp)

Можно считать, что потоки корректно работают с барьером, т.е. метод `ArriveAndWait` вызывают одни и те же потоки-участники, а их общее число задано в конструкторе. В противном случае поведение барьера не определено.

### Требования к реализации

На один раунд (волну) потоки должны "тратить" константное число пробуждений.